<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR Jewelry Try-On</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="./src/style.css">
</head>
<body>
  <div id="container">
    <video id="videoElement" autoplay playsinline></video>
    <canvas id="outputCanvas"></canvas>
    <div id="loading">
      <div class="spinner"></div>
      <p>Loading AR Try-On Experience...</p>
    </div>
    
    <div id="controls">
      <div class="header">
        <h1><i class="fas fa-gem"></i> AR Jewelry Try-On</h1>
        <div id="status">Initializing camera...</div>
      </div>
      <div style="margin: 8px 0 16px; display: flex; gap: 8px; flex-wrap: wrap;">
        <a href="./campaign.html" style="display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px; background:#111; color:#fff; text-decoration:none; font-weight:600;">
          <i class="fas fa-wand-magic-sparkles"></i>
          <span>Campaign Generator</span>
        </a>
      </div>
      
      <details class="mode-selector" open>
        <summary>Categories</summary>
        <div class="mode-buttons">
          <div class="dropdown">
            <button class="mode-btn dropdown-toggle active" data-mode="rings" id="ringsDropdown" aria-expanded="false">
              <i class="fas fa-ring"></i>
              <span>Rings</span>
              <i class="fas fa-chevron-down"></i>
            </button>
            <div class="dropdown-menu ring-dropdown-menu" aria-labelledby="ringsDropdown">
              <div class="ring-options-grid">
                <div class="ring-option" data-color="diamond-ring-1707837">
                  <img src="https://pub-e46fd816b4ee497fb2f639f180c4df20.r2.dev/pngfind.com-diamond-ring-png-1707837.png" alt="Diamond Ring" class="ring-option-image">
                  <span class="ring-option-name">Diamond Ring</span>
                </div>
                <div class="ring-option" data-color="loose-diamonds-2037252">
                  <img src="https://pub-e46fd816b4ee497fb2f639f180c4df20.r2.dev/pngfind.com-loose-diamonds-png-2037252.png" alt="Loose Diamonds" class="ring-option-image">
                  <span class="ring-option-name">Loose Diamonds</span>
                </div>
                <div class="ring-option" data-color="laurel-leaf-6893709">
                  <img src="https://pub-e46fd816b4ee497fb2f639f180c4df20.r2.dev/pngfind.com-laurel-leaf-png-6893709.png" alt="Laurel Leaf" class="ring-option-image">
                  <span class="ring-option-name">Laurel Leaf</span>
                </div>
              </div>
            </div>
          </div>
          <button class="mode-btn" data-mode="sunglasses">
            <i class="fas fa-sun"></i>
            <span>Sunglasses</span>
          </button>
          <button class="mode-btn" data-mode="earrings">
            <i class="fas fa-gem"></i>
            <span>Earrings</span>
          </button>
          <button class="mode-btn" data-mode="necklace">
            <i class="fas fa-gem" style="transform: rotate(45deg); display: inline-block;"></i>
            <span>Necklace</span>
          </button>
        </div>
      </details>

      <details open>
        <summary>Size</summary>
        <div class="size-control">
          <label for="sizeSlider">Size: <span id="sizeValue">100%</span></label>
          <input id="sizeSlider" type="range" min="50" max="200" value="100" step="1" />
        </div>
      </details>

      <div class="ring-selector" id="ringSelector" style="display: none;">
        <!-- This is now hidden as we've moved the ring selection to the Rings dropdown -->
      </div>

      <details class="item-selector" id="glassesSelector">
        <summary>Sunglasses Styles</summary>
        <div class="item-buttons">
          <button class="item-btn glasses-btn active" data-glasses="aviators-105130">
            <i class="fas fa-sun"></i>
            <span>Aviator Gold</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="aviators-105839">
            <i class="fas fa-sun"></i>
            <span>Aviator Silver</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="chasma-248748">
            <i class="fas fa-glasses"></i>
            <span>Classic</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="round-glasses-2333295">
            <i class="fas fa-glasses"></i>
            <span>Round</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="sunglasses-vector-5936502">
            <i class="fas fa-glasses" style="font-size: 1.1em;"></i>
            <span>Modern</span>
          </button>
        </div>
      </details>
    </div>
  </div>
  <button id="toggleControls" aria-label="Toggle controls">
    <i class="fas fa-sliders-h"></i>
  </button>
  <!-- Mobile hamburger (top-left) -->
  <button id="hamburgerBtn" aria-label="Open menu" title="Menu">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>
  <!-- MediaPipe dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>

  <!-- App entry -->
  <script type="module" src="./src/main.js"></script>
  <script src="/src/dropdown.js"></script>
</body>
</html>
