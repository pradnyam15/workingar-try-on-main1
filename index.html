<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>AR Jewelry Try-On</title>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0/css/all.min.css">
  <link rel="stylesheet" href="./src/style.css">
</head>
<body>
  <div id="container">
    <video id="videoElement" autoplay playsinline></video>
    <canvas id="outputCanvas"></canvas>
    <div id="loading">
      <div class="spinner"></div>
      <p>Loading AR Try-On Experience...</p>
    </div>
    
    <div id="controls">
      <div class="header">
        <h1><i class="fas fa-gem"></i> AR Jewelry Try-On</h1>
        <div id="status">Initializing camera...</div>
      </div>
      <div style="margin: 8px 0 16px; display: flex; gap: 8px; flex-wrap: wrap;">
        <a href="./campaign.html" style="display:inline-flex; align-items:center; gap:8px; padding:8px 12px; border-radius:8px; background:#111; color:#fff; text-decoration:none; font-weight:600;">
          <i class="fas fa-wand-magic-sparkles"></i>
          <span>Campaign Generator</span>
        </a>
      </div>
      
      <details class="mode-selector" open>
        <summary>Categories</summary>
        <div class="mode-buttons">
          <button class="mode-btn active" data-mode="rings">
            <i class="fas fa-ring"></i>
            <span>Rings</span>
          </button>
          <button class="mode-btn" data-mode="sunglasses">
            <i class="fas fa-sun"></i>
            <span>Sunglasses</span>
          </button>
          <button class="mode-btn" data-mode="earrings">
            <i class="fas fa-gem"></i>
            <span>Earrings</span>
          </button>
          <button class="mode-btn" data-mode="necklace">
            <i class="fas fa-gem" style="transform: rotate(45deg); display: inline-block;"></i>
            <span>Necklace</span>
          </button>
        </div>
      </details>

      <details open>
        <summary>Size</summary>
        <div class="size-control">
          <label for="sizeSlider">Size: <span id="sizeValue">100%</span></label>
          <input id="sizeSlider" type="range" min="50" max="200" value="100" step="1" />
        </div>
      </details>

      <details class="item-selector" id="ringSelector" open>
        <summary>Ring Styles</summary>
        <div class="ring-selector">
          <select id="ringDropdown" class="ring-dropdown">
            <option value="diamond-ring-1707837" data-image="https://cdn.pixabay.com/photo/2016/10/15/05/23/diamond-ring-1707837_1280.png">Diamond Ring</option>
            <option value="loose-diamonds-2037252" data-image="https://cdn.pixabay.com/photo/2017/01/31/22/14/loose-diamonds-2037252_1280.png">Loose Diamonds</option>
            <option value="laurel-leaf-6893709" data-image="https://cdn.pixabay.com/photo/2021/11/22/13/47/laurel-leaf-6893709_1280.png">Laurel Leaf</option>
          </select>
          <div class="ring-preview">
            <img id="ringPreview" src="https://cdn.pixabay.com/photo/2016/10/15/05/23/diamond-ring-1707837_1280.png" alt="Ring Preview">
            <div id="ringName">Diamond Ring</div>
          </div>
        </div>
      </details>

      <details class="item-selector" id="glassesSelector">
        <summary>Sunglasses Styles</summary>
        <div class="item-buttons">
          <button class="item-btn glasses-btn active" data-glasses="aviators-105130">
            <i class="fas fa-sun"></i>
            <span>Aviator Gold</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="aviators-105839">
            <i class="fas fa-sun"></i>
            <span>Aviator Silver</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="chasma-248748">
            <i class="fas fa-glasses"></i>
            <span>Classic</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="round-glasses-2333295">
            <i class="fas fa-glasses"></i>
            <span>Round</span>
          </button>
          <button class="item-btn glasses-btn" data-glasses="sunglasses-vector-5936502">
            <i class="fas fa-glasses" style="font-size: 1.1em;"></i>
            <span>Modern</span>
          </button>
        </div>
      </details>
    </div>
  </div>
  <button id="toggleControls" aria-label="Toggle controls">
    <i class="fas fa-sliders-h"></i>
  </button>
  <!-- Mobile hamburger (top-left) -->
  <button id="hamburgerBtn" aria-label="Open menu" title="Menu">
    <span class="bar"></span>
    <span class="bar"></span>
    <span class="bar"></span>
  </button>
  <!-- MediaPipe dependencies -->
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/camera_utils/camera_utils.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/hands/hands.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/@mediapipe/face_mesh/face_mesh.js"></script>

  <!-- App entry -->
  <script type="module" src="./src/main.js"></script>
</body>
</html>
